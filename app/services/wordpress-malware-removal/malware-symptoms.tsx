'use client';
import { H2 } from '@/components/ui';
import {
  AlertCircle,
  AlertTriangle,
  CheckCircle,
  ChevronDown,
  ChevronUp,
} from 'lucide-react';
import React, { useState } from 'react';

const MalwareSymptoms = () => {
  const [openSections, setOpenSections] = useState<{ [key: string]: boolean }>({
    redirect: true,
    japanese: false,
    blacklist: false,
    backdoor: false,
  });

  const toggleSection = (id: string) => {
    setOpenSections((prev) => ({
      ...prev,
      [id]: !prev[id],
    }));
  };

  const symptoms = [
    {
      id: 'redirect',
      title: 'WordPress Redirect Malware',
      description: 'Your site sends visitors to spam or phishing websites',
      details: [
        'Users report being sent to strange websites when clicking your links',
        'Mobile-only redirects that are difficult to spot during testing',
        'Redirects that only happen for visitors from search engines',
        'Infected files include: .htaccess, index.php, or theme functions.php',
      ],
    },
    {
      id: 'japanese',
      title: 'Japanese SEO Hack',
      description:
        'Your WordPress site shows Japanese or spam content in search results',
      details: [
        'Google search results show foreign language text not on your site',
        'Keywords unrelated to your business appearing in site description',
        'Hidden pages with spam content that normal visitors never see',
        'Often targets wp-includes and wp-content directories',
      ],
    },
    {
      id: 'blacklist',
      title: 'Blacklisted WordPress Site',
      description: 'Google or browsers show security warnings about your site',
      details: [
        '"This site may be hacked" message in Google results',
        'Chrome, Firefox or Safari display security warnings to visitors',
        'Sudden traffic drop of 50-90% in your analytics',
        'Site flagged by security plugins or hosting provider',
      ],
    },
    {
      id: 'backdoor',
      title: 'WordPress Backdoors & Hidden Malware',
      description: 'Advanced threats that maintain hacker access to your site',
      details: [
        'Unknown admin users in your WordPress dashboard',
        `Files with obfuscated PHP code that's difficult to read',
        'Malicious code that reappears after cleanup attempts`,
        'Database entries with base64 encoded content',
      ],
    },
  ];

  return (
    <div className='group bg-slate-800/50 backdrop-blur-sm mb-16 p-8 border border-slate-700 rounded-xl transition-all duration-300'>
      <H2 className='mb-4 text-3xl sm:text-3xl text-center'>
        Symptoms of Common WordPress Malware Attacks
      </H2>
      <p className='mb-6 text-slate-300 text-center'>
        Check if your WordPress site shows these symptoms of malware infection.
      </p>

      <div className='flex items-start gap-3 bg-red-900/20 mb-6 p-4 border border-red-700 rounded-lg'>
        <AlertTriangle className='flex-shrink-0 mt-0.5 w-5 h-5 text-red-400' />
        <p className='text-slate-300 text-sm'>
          If your WordPress site exhibits any of these symptoms, immediate
          action is required to prevent data loss, further infection, and
          long-term SEO damage.
        </p>
      </div>

      <div className='space-y-4'>
        {symptoms.map((symptom) => (
          <div
            key={symptom.id}
            className='bg-slate-700/30 border border-slate-600 rounded-lg overflow-hidden'>
            <button
              onClick={() => toggleSection(symptom.id)}
              className='flex justify-between items-center hover:bg-slate-700/50 px-6 py-4 w-full transition-colors'>
              <div className='flex items-center gap-3'>
                <AlertCircle className='w-5 h-5 text-red-400' />
                <div className='text-left'>
                  <h3 className='font-medium text-white'>{symptom.title}</h3>
                  <p className='text-slate-300 text-sm'>
                    {symptom.description}
                  </p>
                </div>
              </div>
              {openSections[symptom.id] ? (
                <ChevronUp className='w-5 h-5 text-slate-400' />
              ) : (
                <ChevronDown className='w-5 h-5 text-slate-400' />
              )}
            </button>

            {openSections[symptom.id] && (
              <div className='px-6 pt-4 pb-4 border-slate-600 border-t'>
                <h4 className='mb-3 font-medium text-white text-sm'>
                  How to identify:
                </h4>
                <ul className='space-y-2'>
                  {symptom.details.map((detail, index) => (
                    <li key={index} className='flex items-start gap-2'>
                      <CheckCircle className='mt-0.5 w-4 h-4 text-green-400' />
                      <span className='text-slate-300 text-sm'>{detail}</span>
                    </li>
                  ))}
                </ul>
              </div>
            )}
          </div>
        ))}
      </div>

      <div className='mt-8 text-center'>
        <a
          href='#request-form'
          className='inline-block bg-red-600/80 hover:bg-red-500 px-6 py-3 rounded-md font-medium text-white transition-colors'>
          Remove WordPress Malware Now
        </a>
      </div>
    </div>
  );
};

export default MalwareSymptoms;
